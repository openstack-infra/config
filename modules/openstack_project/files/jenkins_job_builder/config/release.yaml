- job:
    name: common-adjust-nametag
    concurrent: false
    node: master

    parameters:
      - choice:
          name: PROJECT
          description: On what project to run?
          choices:
            - nova
            - glance
            - keystone
            - horizon
            - quantum
            - melange
            - cinder
            - python-cinderclient
            - python-novaclient
            - python-openstackclient
            - python-glanceclient
            - python-keystoneclient
            - python-quantumclient
            - python-swiftclient
      - choice:
          name: NAMETAG
          description: The nametag to update.
          choices:
            - essex
            - diablo
            - folsom
            - grizzly
      - string:
          name: BRANCH
          description: 'The branch to track with this tag.  E.g., "master", "milestone-proposed" or "stable/xyzzy".'

    builders:
      - shell: "/usr/local/jenkins/slave_scripts/adjust-nametag.sh"

- job:
    name: common-bump-milestone
    concurrent: false
    node: master

    properties:
      - authorization:
          openstack-release:
            - job-build
          ttx:
            - job-build

    parameters:
      - choice:
          name: PROJECT
          description: On what project to run?
          choices:
            - nova
            - glance
            - keystone
            - horizon
            - quantum
            - cinder
            - ceilometer
            - heat
      - choice:
          name: BRANCH
          description: The branch to update.
          choices:
            - master
            - milestone-proposed
      - string:
          name: VALUE
          description: 'The milestone value to set for this branch.  E.g., "e4" or "rc1".'

    builders:
      - shell: "/usr/local/jenkins/slave_scripts/bump-milestone.sh"
