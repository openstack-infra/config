---
:hierarchy:
  # Use private hieradata first
  - "hieradata/fqdn/%{::fqdn}"
  - "hieradata/group/%{group}" # no :: because group is set at nodescope
  - "hieradata/common"
  # Use public hieradata second, also be environmentally aware
  - "%{::environment}/hiera/fqdn/%{::fqdn}"
  - "%{::environment}/hiera/group/%{group}" # no :: because group is set at nodescope
  - "%{::environment}/hiera/common"
:backends:
  - yaml
:yaml:
  :datadir: "/opt/system-config/"


# File directory structure:
# Secret data:
# /opt/system-config/hieradata
# /opt/system-config/hieradata/fqdn/afs01.openstack.org.yaml  #highest priority
# /opt/system-config/hieradata/group/afs.yaml                 #middle priority
# /opt/system-config/hieradata/common.yaml                    #lowest priority
# Public data
# /opt/system-config/production
# /opt/system-config/production/fqdn/afs01.openstack.org.yaml #highest priority
# /opt/system-config/production/group/afs.yaml                #middle priority
# /opt/system-config/production/common.yaml                   #lowest priority

