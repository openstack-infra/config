---
# coverage
modules:
  - logrotate
  - properties
  - scm
  - assignednode
  - trigger_pollscm
  - builders
  - publisher_coverage

main:
  name: 'heat-coverage'
  site: 'heat-api'
  project: 'heat'
  authenticatedBuild: 'false'
  disabled: 'false'

trigger:
  pollscm: '*/15 * * * *'

builders:
  - coverage

scm:
  scm: 'true'

assignednode:
  node: 'oneiric'

logrotate:
  daysToKeep: 3
  numToKeep: 20
  artifactDaysToKeep: -1
  artifactNumToKeep: -1

---
# pep8-gate
modules:
  - properties
  - scm
  - assignednode
  - trigger_gerrit
  - builders
  - publisher_pep8

main:
  name: 'gate-heat-pep8'
  site: 'heat-api'
  host: 'stackforge'
  project: 'heat'
  authenticatedBuild: 'true'
  disabled: 'false'

trigger:
  triggerOnPatchsetUploadedEvent: 'false'
  triggerOnChangeMergedEvent: 'false'
  triggerOnCommentAddedEvent: 'true'
  triggerOnRefUpdatedEvent: 'false'
  triggerApprovalCategory: 'APRV'
  triggerApprovalValue: 1
  failureMessage: ''
  projects:
    - projectCompareType: 'PLAIN'
      projectPattern: 'heat-api/heat'
      branchCompareType: 'ANT'
      branchPattern: '**'

builders:
  - gerrit_git_prep
  - pep8

scm:
  scm: 'false'

assignednode:
  node: 'oneiric'

---
# python26-gate
modules:
  - properties
  - scm
  - assignednode
  - trigger_gerrit
  - builders
  - publisher_none

main:
  name: 'gate-heat-python26'
  site: 'heat-api'
  host: 'stackforge'
  project: 'heat'
  authenticatedBuild: 'true'
  disabled: 'false'

trigger:
  triggerOnPatchsetUploadedEvent: 'false'
  triggerOnChangeMergedEvent: 'false'
  triggerOnCommentAddedEvent: 'true'
  triggerOnRefUpdatedEvent: 'false'
  triggerApprovalCategory: 'APRV'
  triggerApprovalValue: 1
  failureMessage: ''
  projects:
    - projectCompareType: 'PLAIN'
      projectPattern: 'heat-api/heat'
      branchCompareType: 'ANT'
      branchPattern: '**'

builders:
  - gerrit_git_prep
  - python26

scm:
  scm: 'true'

assignednode:
  node: 'oneiric'

---
# python27-gate
modules:
  - properties
  - scm
  - assignednode
  - trigger_gerrit
  - builders
  - publisher_none

main:
  name: 'gate-heat-python27'
  site: 'heat-api'
  host: 'stackforge'
  project: 'heat'
  authenticatedBuild: 'true'
  disabled: 'false'

trigger:
  triggerOnPatchsetUploadedEvent: 'false'
  triggerOnChangeMergedEvent: 'false'
  triggerOnCommentAddedEvent: 'true'
  triggerOnRefUpdatedEvent: 'false'
  triggerApprovalCategory: 'APRV'
  triggerApprovalValue: 1
  failureMessage: ''
  projects:
    - projectCompareType: 'PLAIN'
      projectPattern: 'heat-api/heat'
      branchCompareType: 'ANT'
      branchPattern: '**'

builders:
  - gerrit_git_prep
  - python27

scm:
  scm: 'true'

assignednode:
  node: 'oneiric'

---
# merge-gate
modules:
  - properties
  - scm
  - assignednode
  - trigger_gerrit
  - builders
  - publisher_none

main:
  name: 'gate-heat-merge'
  site: 'heat-api'
  host: 'stackforge'
  project: 'heat'
  authenticatedBuild: 'true'
  disabled: 'false'

trigger:
  triggerOnPatchsetUploadedEvent: 'false'
  triggerOnChangeMergedEvent: 'false'
  triggerOnCommentAddedEvent: 'true'
  triggerOnRefUpdatedEvent: 'false'
  triggerApprovalCategory: 'APRV'
  triggerApprovalValue: 1
  failureMessage: 'This change was unable to be automatically merged with the current state of the repository. Please rebase your change and upload a new patchset.'
  projects:
    - projectCompareType: 'PLAIN'
      projectPattern: 'heat-api/heat'
      branchCompareType: 'ANT'
      branchPattern: '**'

builders:
  - gerrit_git_prep

scm:
  scm: 'false'

assignednode:
  node: 'oneiric'

---
# pep8-check
modules:
  - properties
  - scm
  - assignednode
  - trigger_gerrit
  - builders
  - publisher_pep8

main:
  name: 'check-heat-pep8'
  site: 'heat-api'
  host: 'stackforge'
  project: 'heat'
  authenticatedBuild: 'true'
  disabled: 'false'

trigger:
  triggerOnPatchsetUploadedEvent: 'true'
  triggerOnChangeMergedEvent: 'false'
  triggerOnCommentAddedEvent: 'false'
  triggerOnRefUpdatedEvent: 'false'
  overrideVotes: 'true'
  gerritBuildSuccessfulVerifiedValue: 1
  gerritBuildFailedVerifiedValue: -1
  failureMessage: ''
  projects:
    - projectCompareType: 'PLAIN'
      projectPattern: 'heat-api/heat'
      branchCompareType: 'ANT'
      branchPattern: '**'

builders:
  - gerrit_git_prep
  - pep8

scm:
  scm: 'false'

assignednode:
  node: 'oneiric'

---
# python26-check
modules:
  - properties
  - scm
  - assignednode
  - trigger_gerrit
  - builders
  - publisher_none

main:
  name: 'check-heat-python26'
  site: 'heat-api'
  host: 'stackforge'
  project: 'heat'
  authenticatedBuild: 'true'
  disabled: 'false'

trigger:
  triggerOnPatchsetUploadedEvent: 'true'
  triggerOnChangeMergedEvent: 'false'
  triggerOnCommentAddedEvent: 'false'
  triggerOnRefUpdatedEvent: 'false'
  overrideVotes: 'true'
  gerritBuildSuccessfulVerifiedValue: 1
  gerritBuildFailedVerifiedValue: -1
  failureMessage: ''
  projects:
    - projectCompareType: 'PLAIN'
      projectPattern: 'heat-api/heat'
      branchCompareType: 'ANT'
      branchPattern: '**'

builders:
  - gerrit_git_prep
  - python26

scm:
  scm: 'true'

assignednode:
  node: 'oneiric'

---
# python27-check
modules:
  - properties
  - scm
  - assignednode
  - trigger_gerrit
  - builders
  - publisher_none

main:
  name: 'check-heat-python27'
  site: 'heat-api'
  host: 'stackforge'
  project: 'heat'
  authenticatedBuild: 'true'
  disabled: 'false'

trigger:
  triggerOnPatchsetUploadedEvent: 'true'
  triggerOnChangeMergedEvent: 'false'
  triggerOnCommentAddedEvent: 'false'
  triggerOnRefUpdatedEvent: 'false'
  overrideVotes: 'true'
  gerritBuildSuccessfulVerifiedValue: 1
  gerritBuildFailedVerifiedValue: -1
  failureMessage: ''
  projects:
    - projectCompareType: 'PLAIN'
      projectPattern: 'heat-api/heat'
      branchCompareType: 'ANT'
      branchPattern: '**'

builders:
  - gerrit_git_prep
  - python27

scm:
  scm: 'true'

assignednode:
  node: 'oneiric'

---
# merge-check
modules:
  - properties
  - scm
  - assignednode
  - trigger_gerrit
  - builders
  - publisher_none

main:
  name: 'check-heat-merge'
  site: 'heat-api'
  host: 'stackforge'
  project: 'heat'
  authenticatedBuild: 'true'
  disabled: 'false'

trigger:
  triggerOnPatchsetUploadedEvent: 'true'
  triggerOnChangeMergedEvent: 'false'
  triggerOnCommentAddedEvent: 'false'
  triggerOnRefUpdatedEvent: 'false'
  overrideVotes: 'true'
  gerritBuildSuccessfulVerifiedValue: 1
  gerritBuildFailedVerifiedValue: -1
  failureMessage: 'This change was unable to be automatically merged with the current state of the repository. Please rebase your change and upload a new patchset.'
  projects:
    - projectCompareType: 'PLAIN'
      projectPattern: 'heat-api/heat'
      branchCompareType: 'ANT'
      branchPattern: '**'

builders:
  - gerrit_git_prep

scm:
  scm: 'false'

assignednode:
  node: 'oneiric'


